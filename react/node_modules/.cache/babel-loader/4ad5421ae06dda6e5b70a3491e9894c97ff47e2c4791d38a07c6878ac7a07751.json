{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\quynh\\\\Desktop\\\\React\\\\test\\\\src\\\\component\\\\LogIn.js\",\n  _s = $RefreshSig$();\nimport { useContext, useState } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport cookie from \"react-cookies\";\nimport \"./LogIn.css\";\nimport { Navigate, useSearchParams } from \"react-router-dom\";\nimport { MyUserContext } from \"../App\";\nimport Apis, { authApi, endpoints } from \"../configs/Apis\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LogIn = () => {\n  _s();\n  const [user, dispatch] = useContext(MyUserContext);\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  const [q] = useSearchParams();\n  const login = evt => {\n    evt.preventDefault();\n    const process = async () => {\n      try {\n        let res = await Apis.post(endpoints['login'], {\n          \"username\": username,\n          \"password\": password\n        });\n        cookie.save(\"token\", res.data);\n        let {\n          data\n        } = await authApi().get(endpoints['current-user']);\n        cookie.save(\"user\", data);\n        console.log(data);\n        dispatch({\n          \"type\": \"login\",\n          \"payload\": data\n        });\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    process();\n  };\n  if (user !== null) {\n    let next = q.get(\"next\") || \"/\";\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: next\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-login\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: \"\\u0110\\u0102NG NH\\u1EACP NG\\u01AF\\u1EDCI D\\xD9NG\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: login,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"exampleForm.ControlInput1\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            value: username,\n            onChange: e => setUsername(e.target.value),\n            type: \"text\",\n            placeholder: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"exampleForm.ControlInput1\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"M\\u1EADt kh\\u1EA9u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            type: \"password\",\n            placeholder: \"M\\u1EADt kh\\u1EA9u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"exampleForm.ControlInput1\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            type: \"submit\",\n            children: \"\\u0110\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n_s(LogIn, \"rwr1M/COq61PXYNeRgDSo1MuXdU=\", false, function () {\n  return [useSearchParams];\n});\n_c = LogIn;\nexport default LogIn;\nvar _c;\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"names":["useContext","useState","Button","Form","cookie","Navigate","useSearchParams","MyUserContext","Apis","authApi","endpoints","jsxDEV","_jsxDEV","Fragment","_Fragment","LogIn","_s","user","dispatch","username","setUsername","password","setPassword","q","login","evt","preventDefault","process","res","post","save","data","get","console","log","err","error","next","to","fileName","_jsxFileName","lineNumber","columnNumber","children","className","onSubmit","Group","controlId","Label","Control","value","onChange","e","target","type","placeholder","variant","_c","$RefreshReg$"],"sources":["C:/Users/quynh/Desktop/React/test/src/component/LogIn.js"],"sourcesContent":["import { useContext, useState } from \"react\";\r\nimport { Button, Form } from \"react-bootstrap\";\r\nimport cookie from \"react-cookies\";\r\nimport \"./LogIn.css\"\r\nimport { Navigate, useSearchParams } from \"react-router-dom\";\r\nimport { MyUserContext } from \"../App\";\r\nimport Apis, { authApi, endpoints } from \"../configs/Apis\";\r\n\r\nconst LogIn = () => {\r\n  const [user, dispatch] = useContext(MyUserContext);\r\n    const [username, setUsername] = useState();\r\n    const [password, setPassword] = useState();\r\n    const [q] = useSearchParams();\r\n    \r\n    const login = (evt) => {\r\n        evt.preventDefault();\r\n\r\n        const process = async () => {\r\n            try {\r\n                let res = await Apis.post(endpoints['login'], {\r\n                    \"username\": username,\r\n                    \"password\": password\r\n                });\r\n                cookie.save(\"token\", res.data);\r\n                \r\n                let {data} = await authApi().get(endpoints['current-user']);\r\n                cookie.save(\"user\", data);\r\n                console.log(data);\r\n\r\n                dispatch({\r\n                    \"type\": \"login\",\r\n                    \"payload\": data\r\n                });\r\n            } catch (err) {\r\n                console.error(err);\r\n            }\r\n        }\r\n\r\n        process();\r\n    }\r\n\r\n    if (user !== null) {\r\n        let next = q.get(\"next\") || \"/\";\r\n        return <Navigate to={next} />\r\n    }\r\n\r\n    return <>\r\n    <div className=\"content-login\">\r\n        <h1 className=\"text-center\">ĐĂNG NHẬP NGƯỜI DÙNG</h1>\r\n\r\n        <Form onSubmit={login}>\r\n            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                <Form.Label>Tên đăng nhập</Form.Label>\r\n                <Form.Control value={username} onChange={e => setUsername(e.target.value)} type=\"text\" placeholder=\"Tên đăng nhập\" />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                <Form.Label>Mật khẩu</Form.Label>\r\n                <Form.Control value={password} onChange={e => setPassword(e.target.value)} type=\"password\" placeholder=\"Mật khẩu\" />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                <Button variant=\"success\" type=\"submit\">Đăng nhập</Button>\r\n            </Form.Group>\r\n        </Form>\r\n        </div>\r\n    </>\r\n};\r\n\r\nexport default LogIn;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}